(function(_ds){var window=this;var Wea=function(){return(0,_ds.W)('<span class="devsite-var-input-wrapper"><button class="material-icons devsite-icon-close" tabindex="-1"></button></span>')},Xea=function(){return(0,_ds.W)('<input class="devsite-var-input" type="text" translate="no" spellcheck="false">')},Yea=function(a){return(0,_ds.W)('<span class="devsite-var-wrapper"><var spellcheck="false" is-upgraded>'+_ds.X(a.placeholder)+"</var></span>")},Zea=function(){return(0,_ds.W)('<button class="material-icons devsite-icon-edit" tabindex="-1"></button>')};var J8=function(){return"devsite-var"},$ea=async function(a){a.j=a.innerText;var b=a.getAttribute("label");b||(a.setAttribute("label",a.j),b=a.j);a.qa=b;b=_ds.Xj(a,"devsite-code");a:{if(a.classList.contains("no-scope"))a.removeAttribute("scope");else if(!a.hasAttribute("scope")&&b){var c=!0;break a}c=!1}c&&a.setAttribute("scope",a.j);b&&(await customElements.whenDefined("devsite-code"),await b.ready());_ds.M(a,Yea,{placeholder:a.innerText});a.h=a.querySelector("var");(c=a.getAttribute("scope"))&&
(c=await (await _ds.u()).getStorage().get(J8(),c))&&a.h&&(a.h.innerText=c);if(K8(a,b)){b=_ds.N(Zea);_ds.Hj(a.h,b,1);b=a.querySelector(".devsite-var-wrapper");a.o=_ds.N(Wea);_ds.Hj(b,a.o,0);a.g=_ds.N(Xea);a.setAttribute("tabindex","0");let d;(d=a.h)==null||d.setAttribute("data-title",`${"Edit"} ${a.qa}`);let e;(e=a.h)==null||e.setAttribute("aria-label",`${"Edit"} ${a.qa}`)}a.removeAttribute("label")},K8=function(a,b){if(a.classList.contains("edit"))return!0;if(b){const c=b.querySelector("pre");return!b.hasAttribute("no-copy")&&
!(c==null?0:c.classList.contains("readonly"))&&!a.classList.contains("readonly")}return!1},cfa=function(a){a.eventHandler.listen(a,"focusin",()=>{a.hasAttribute("active")||(a.setAttribute("active",""),_ds.Hj(a.o,a.g,0),a.g&&(a.g.value=a.innerText,a.g.select()),a.setAttribute("tabindex","-1"))});a.g&&(a.eventHandler.listen(a.g,"focusout",()=>{a.removeAttribute("active");a.o&&a.g&&a.o.removeChild(a.g);a.setAttribute("tabindex","0")}),a.eventHandler.listen(a.g,"change",b=>{afa(a,b.target.value);bfa(a)}));
a.eventHandler.listen(a,"keydown",b=>{if(b.keyCode===13||b.keyCode===27){let c;(c=a.g)==null||c.blur()}});a.eventHandler.listen(a,"input",b=>{if(!a.oa){if(a.hasAttribute("scope")){var c=a.getAttribute("scope");a.ea=[...document.querySelectorAll(`devsite-var[${"scope"}="${c}"]`)]}else a.ea=[a];a.dispatchEvent(_ds.xe({category:"Site-Wide Custom Events",action:"New Placeholder Edited",label:a.j,value:a.ea.length}));c={eventData:JSON.stringify({name:"New Placeholder Edited".replace(/\s/g,""),type:"editablePlaceholderVariable",
metadata:{"var":a.j,varsInScope:a.ea.length}})};a.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",{detail:c,bubbles:!0}));a.oa=!0}b=b.target.value;for(const d of a.ea)d.setAttribute("value",b)})},afa=async function(a,b){(a=a.getAttribute("scope"))&&await (await _ds.u()).getStorage().set(J8(),a,b)},bfa=async function(a){dfa(a);if(a.ma){const b=new _ds.Tf;let c;(c=a.h)==null||c.setAttribute("aria-label","Variable updated for current session");_ds.Mm(a.eventHandler,a.ma,"transitionend",
()=>{b.resolve()});await b.promise;_ds.Mm(a.eventHandler,a.ma,"transitionend",()=>{let d;(d=a.h)==null||d.setAttribute("aria-label",`${"Edit"} ${a.qa}`)})}},dfa=function(a){var b="Variable updated for current session";a.dispatchEvent(new CustomEvent("devsite-show-custom-snackbar-msg",{detail:{msg:b,showClose:!1},bubbles:!0}))},L8=class extends _ds.D{constructor(){super(["devsite-code","devsite-snackbar"]);this.eventHandler=new _ds.F(this);this.oa=!1;this.qa=this.j="";this.ma=this.g=this.o=this.h=
null;this.ea=[]}static get observedAttributes(){return["value"]}async connectedCallback(){if(!this.hasAttribute("rendered")){this.setAttribute("rendered","");var a=this.querySelector("var");if(a)for(const b of a.attributes)this.setAttribute(b.name,b.value);await $ea(this)}a=_ds.Xj(this,"devsite-code");K8(this,a)&&cfa(this);this.ma=document.querySelector("devsite-snackbar")}attributeChangedCallback(a,b,c){a=this.querySelector("var");(a==null?0:a.lastElementChild)?(b=a.lastElementChild,a.innerText=
c?c:"",a.appendChild(b)):a&&(a.innerText=c?c:"")}disconnectedCallback(){_ds.H(this.eventHandler)}};L8.prototype.disconnectedCallback=L8.prototype.disconnectedCallback;L8.prototype.attributeChangedCallback=L8.prototype.attributeChangedCallback;L8.prototype.connectedCallback=L8.prototype.connectedCallback;L8.getTagName=J8;try{customElements.define(J8(),L8)}catch(a){console.warn("devsite.app.CustomElement.DevsiteVar",a)};})(_ds_www);
